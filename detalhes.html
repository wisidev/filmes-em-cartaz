<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="assets/css/style.css" />
    <title>Detalhes do Filme</title>
  </head>
  <body>
    <!-- Barra de navegação -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html">isiFlicks</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Início</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="filmes.html">Filmes</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="sobre.html">Sobre</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="contato.html">Contato</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Container principal para o conteúdo da página -->
    <div class="container mt-4">
      <!-- Botão para voltar à página de lista de filmes -->
      <a href="filmes.html" class="btn btn-secondary mb-3">Voltar</a>

      <!-- Layout com duas colunas para exibir o pôster e detalhes do filme -->
      <div class="row">
        <div class="col-md-4">
          <img id="movie-poster" class="img-fluid" alt="Pôster do Filme" />
        </div>
        <div class="col-md-8">
          <h2 id="movie-title"></h2>
          <p><strong>Gênero:</strong> <span id="movie-genre"></span></p>
          <p><strong>Classificação:</strong> <span id="movie-rating"></span></p>
          <p id="movie-description"></p>
        </div>
      </div>
    </div>

    <div id="detalhes-filme"></div>

    <script>
      async function carregarDetalhes() {
        // Captura o ID do filme da URL
        const params = new URLSearchParams(window.location.search);
        const filmeId = params.get('id');

        if (!filmeId) {
          document.getElementById('detalhes-filme').innerText =
            'Filme não encontrado.';
          return;
        }

        // Busca detalhes do filme
        const resposta = await fetch(
          `https://api.themoviedb.org/3/movie/${filmeId}?api_key=9bbf7d734588f0a01ba0510c39e7e786&language=pt-BR`,
        );
        const filme = await resposta.json();

        // Exibe os detalhes
        document.getElementById('detalhes-filme').innerHTML = `
                <h1>${filme.title}</h1>
                <img src="https://image.tmdb.org/t/p/w300${filme.poster_path}" alt="${filme.title}">
                <p>${filme.overview}</p>
                <p><strong>Data de lançamento:</strong> ${filme.release_date}</p>
                <p><strong>Avaliação:</strong> ${filme.vote_average}/10</p>
            `;
      }

      carregarDetalhes();
    </script>

    <!-- Rodapé -->
    <footer class="bg-dark text-light py-4">
      <div class="container">
        <!-- Linha de contato -->
        <div class="row mb-4">
          <div class="col-12">
            <p>Dúvidas? Ligue para <strong>0800 591 2876</strong></p>
          </div>
        </div>

        <!-- 4 colunas de links -->
        <div class="row">
          <div class="col-md-3">
            <ul class="list-unstyled">
              <li><a href="#" class="text-light">Perguntas frequentes</a></li>
              <li><a href="#" class="text-light">Central de Ajuda</a></li>
              <li><a href="#" class="text-light">Conta</a></li>
              <li><a href="#" class="text-light">Media Center</a></li>
              <li><a href="#" class="text-light">Só na isiFlicks</a></li>
            </ul>
          </div>
          <div class="col-md-3">
            <ul class="list-unstyled">
              <li>
                <a href="#" class="text-light">Relações com investidores</a>
              </li>
              <li><a href="#" class="text-light">Carreiras</a></li>
              <li>
                <a href="#" class="text-light">Resgatar cartão pré-pago</a>
              </li>
              <li>
                <a href="#" class="text-light">Comprar cartão pré-pago</a>
              </li>
            </ul>
          </div>
          <div class="col-md-3">
            <ul class="list-unstyled">
              <li><a href="#" class="text-light">Formas de assistir</a></li>
              <li><a href="#" class="text-light">Termos de Uso</a></li>
              <li><a href="#" class="text-light">Privacidade</a></li>
              <li>
                <a href="#" class="text-light">Preferências de cookies</a>
              </li>
            </ul>
          </div>
          <div class="col-md-3">
            <ul class="list-unstyled">
              <li>
                <a href="#" class="text-light">Informações corporativas</a>
              </li>
              <li><a href="#" class="text-light">Entre em contato</a></li>
              <li><a href="#" class="text-light">Teste de velocidade</a></li>
              <li><a href="#" class="text-light">Avisos legais</a></li>
            </ul>
          </div>
        </div>

        <!-- Seletor de idioma -->
        <div class="row mt-4">
          <div class="col-12">
            <select class="form-select w-auto" aria-label="Selecionar idioma">
              <option value="1" selected>Português</option>
              <option value="2">Inglês</option>
              <option value="3">Espanhol</option>
            </select>
          </div>
        </div>

        <!-- isiFlicks Brasil -->
        <div class="row mt-3">
          <div class="col-12">
            <p>isiFlicks Brasil</p>
          </div>
        </div>
      </div>
    </footer>

    <!-- Link para o arquivo JavaScript do Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/script.js"></script>
  </body>
</html>
